<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition template="/common/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets" >
	<ui:define name="windowTitle">
		<h:outputText value="#{Bundle.ui_index_window_title}" />
	</ui:define>
	
<ui:define name="menuBar">
	<ui:include src="/common/application_menuTab.xhtml" />
	<ui:include src="/common/module_menuTab.xhtml" />
</ui:define>		
<ui:define name="menu">
	<ui:include src="/common/option_menu.xhtml" />
</ui:define>
	
	
	<ui:define name="body">
		
		<p:dialog id="modalDialog" visible="true" closable="false" header="Cambio de Clave:" 
		widgetVar="dlg2" modal="true" width="350" height="350" appendTo="@(body)">  

				<h:form id="chp" >									
						<h:panelGrid columns="2">
							<h:outputLabel value="CLAVE ORIGINAL:" for="po" />
							<p:password id="po" value="#{UnUserController.pswdOriginal}" required="true" validator="#{UnUserController.verifyOldPassword}" validatorMessage="Verify old Pass" />
							<h:outputLabel value="CLAVE NUEVA:" for="p1" />
							<p:password id="p1" value="#{UnUserController.pswdNuevo1}" required="true" >
								<f:validateLength minimum="#{Params.user_password_min_length}" maximum="#{Params.user_password_max_length}" />  
							</p:password>
							<h:outputLabel value="REPETIR CLAVE NUEVA:" for="p2" />
							<p:password id="p2" value="#{UnUserController.pswdNuevo2}" required="true" >
								<f:validateLength minimum="#{Params.user_password_min_length}" maximum="#{Params.user_password_max_length}" />
							</p:password>	
						</h:panelGrid>	
					<p:commandButton id="aj1" update="chgnPswdMessages" action="#{UnUserController.forceChangePassUser}" value="Change" ajax="false" rendered="true"  />
				</h:form>
				<p:messages id="chgnPswdMessages" showDetail="true" autoUpdate="true" />
		</p:dialog>	
						

	
	</ui:define>
	<ui:define name="messages">
		<p:messages id="messages" showDetail="true"  autoUpdate="true"/>
	</ui:define>

</ui:composition>

