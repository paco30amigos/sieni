<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <body>
        <p:dialog id="new_dlg" modal="true" appendTo="@(body)" header="#{BundleIpr.ui_ipr_addLocationResponsable}" widgetVar="newLocationResp">
            <h:form id="new_form">
                <p:panelGrid columns="2">	
                    <p:outputLabel value="#{BundleIpr.ui_ipr_location}"></p:outputLabel>
                    <p:selectOneMenu value="#{CatLocationRespController.locationSelected}">
                        <f:selectItems value="#{CatLocationRespController.locations}" var="location" itemLabel="#{location.label}" itemValue="#{location.value}"></f:selectItems>
                    </p:selectOneMenu>
                    <p:outputLabel value="#{BundleIpr.ui_ipr_responsableType}"></p:outputLabel>
                    <p:selectOneMenu value="#{CatLocationRespController.responsableTypeSelected}" >
                        <p:ajax update="new_resp new_resp_role new_obserbation" event="valueChange" process="@this" listener="#{CatLocationRespController.changeResponsableType()}"></p:ajax>
                        <f:selectItems value="#{CatLocationRespController.responsableTypes}" var="respType" itemLabel="#{respType.label}" itemValue="#{respType.value}"></f:selectItems>
                    </p:selectOneMenu>
                    <p:outputLabel value="#{BundleIpr.ui_ipr_responsable}"></p:outputLabel>
                    <p:selectOneMenu id="new_resp" value="#{CatLocationRespController.responsableSelected}">
                        <p:ajax update="new_obserbation" event="valueChange" process="@this" listener="#{CatLocationRespController.changeResponsable()}"></p:ajax>
                        <f:selectItems value="#{CatLocationRespController.responsables}" var="resp" itemLabel="#{resp.label}" itemValue="#{resp.value}"></f:selectItems>
                    </p:selectOneMenu>
                    <p:outputLabel value="#{BundleIpr.ui_ipr_responsableRole}"></p:outputLabel>
                    <p:selectOneMenu id="new_resp_role" value="#{CatLocationRespController.responsableRoleSelected}">
                        <f:selectItems value="#{CatLocationRespController.responsableRoles}" var="respRol" itemLabel="#{respRol.label}" itemValue="#{respRol.value}"></f:selectItems>
                    </p:selectOneMenu>
                    <p:outputLabel value="#{BundleIpr.ui_ipr_observationResponsability}"></p:outputLabel>
                    <p:outputLabel id="new_obserbation" value="#{CatLocationRespController.observationResponsability}"></p:outputLabel>
                    <p:outputLabel value="#{BundleIpr.ui_ipr_active}"></p:outputLabel>
                    <p:selectBooleanCheckbox value="#{CatLocationRespController.active}"></p:selectBooleanCheckbox>
                    <p:outputLabel value="#{BundleIpr.ui_ipr_defaultResponsable}"></p:outputLabel>
                    <p:selectBooleanCheckbox value="#{CatLocationRespController.defaultResponsable}"></p:selectBooleanCheckbox>
                </p:panelGrid>
                <p:commandButton value="#{BundleIpr.ui_ipr_save}" actionListener="#{CatLocationRespController.saveNewLocationResponsable()}" oncomplete="PF('newLocationResp').hide();PF('loc-wv').clearFilters();" ></p:commandButton>
                <p:commandButton value="#{BundleIpr.ui_ipr_cancel}" oncomplete="PF('newLocationResp').hide()"></p:commandButton>
            </h:form>
        </p:dialog>
    </body>
</html>
